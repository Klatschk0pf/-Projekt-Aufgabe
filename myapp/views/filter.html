<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Filtereinstellungen</title>
</head>
<body>
  <h1>Filtereinstellungen</h1>
  <form id="filter-form">
    <label for="gender">Geschlecht:</label>
    <select id="gender" name="gender">
      <option value="">Alle</option>
      <option value="male">Männlich</option>
      <option value="female">Weiblich</option>
      <option value="other">Andere</option>
    </select>
    <br><br>
    <label for="minAge">Mindestalter:</label>
    <input type="number" id="minAge" name="minAge" min="18" max="99" value="18">
    <br><br>
    <label for="maxAge">Maximalalter:</label>
    <input type="number" id="maxAge" name="maxAge" min="18" max="99" value="100">
    <br><br>
    <button type="submit">Filter speichern</button>
  </form>
  <p><a href="/people">Zur People-Seite</a></p>
  <p><a href="/profil.html">Zurück zum Profil</a></p>
  <script>
    document.getElementById('filter-form').addEventListener('submit', async function(e) {
      e.preventDefault();
      const gender = document.getElementById('gender').value;
      const minAge = document.getElementById('minAge').value;
      const maxAge = document.getElementById('maxAge').value;
      const filterData = { gender, minAge, maxAge };
      const res = await fetch('/setFilter', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(filterData)
      });
      if (res.ok) {
        alert('Filter gespeichert!');
        window.location.href = '/people';
      } else {
        alert('Fehler beim Speichern des Filters');
      }
    });
  </script>
</body>
</html>
